(this.webpackJsonptiktuk=this.webpackJsonptiktuk||[]).push([[0],{37:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(16),s=n.n(r),i=n(10),o=n(13),j=n(19),d=n(18),u=n(24),l=n(25),b="SET_AUTHOR_META",h=function(e){return e.authorMeta},O={authorMeta:null},f=Object(d.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;return t.type===b?Object(j.a)(Object(j.a)({},e),{},{authorMeta:Object(j.a)({},t.authorMeta)}):e}),Object(u.composeWithDevTools)(Object(d.applyMiddleware)(l.a))),x=f,p=(n(37),n(3)),m=n(27),v=n(9),g=n.n(v),_=n(11),N=n(7),k=function(){var e=Object(_.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://tiktok33.p.rapidapi.com").concat(t),{method:"GET",headers:{"x-rapidapi-host":"tiktok33.p.rapidapi.com","x-rapidapi-key":"".concat("c1257dc04cmshd888bbb072eb770p1f2b8ajsnbf16d4cd1d66")}}).then((function(e){if(!e.ok)throw new Error("Server error occured");return e.json()}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(e){var t=+e,n=1e6;return t>=n?(t=Math.round(t/n),"".concat(t.toFixed(1),"M")):t>=1e3?(t=Math.round(t/1e3),"".concat(t.toFixed(1),"K")):"".concat(t)},y=n(1),M=function(e){var t=e.feed,n=Object(o.b)(),c=window.outerWidth,a=t.authorMeta,r=function(){n(function(e){return{type:b,authorMeta:e}}(a))};return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("div",{className:"feed-container__avatar",children:Object(y.jsx)(i.b,{to:"/user/".concat(t.authorMeta.name),children:Object(y.jsx)("img",{src:t.authorMeta.avatar,role:"link",alt:"user_avatar",height:c>640?"56":"36",width:c>640?"56":"36",onClick:r})})}),Object(y.jsxs)("div",{className:"feed-container__body feed-content",children:[Object(y.jsx)(i.b,{to:"/user/".concat(t.authorMeta.name),className:"feed-content__link",children:Object(y.jsxs)("div",{className:"feed-content__name",role:"link",onClick:r,children:[Object(y.jsx)("span",{className:"feed-content__name--main",children:t.authorMeta.name}),Object(y.jsx)("span",{className:"feed-content__name--sub",children:t.authorMeta.nickName})]})}),Object(y.jsx)("div",{children:t.text}),t.hashtags.length>0&&Object(y.jsx)("div",{className:"feed-content__hashtags",children:Object(y.jsx)("span",{children:t.hashtags.map((function(e){return Object(y.jsxs)("span",{className:"feed-content__hashtags--hashtag",children:["#",e.name]},e.id)}))})}),Object(y.jsx)("div",{className:"feed-content__video",children:Object(y.jsx)("video",{preload:"true",autoPlay:!0,loop:!0,width:c>640?"336px":"207px",height:c>640?"600px":"370px",controls:!0,muted:!0,playsInline:!0,children:Object(y.jsx)("source",{src:t.videoUrl})})}),Object(y.jsxs)("div",{className:"feed-content__comments",children:[Object(y.jsxs)("span",{children:[Object(y.jsx)("b",{children:"Comments:"}),"\xa0",w(t.commentCount),"\xa0"]}),Object(y.jsxs)("span",{children:[Object(y.jsx)("b",{children:"Likes:"}),"\xa0",w(t.diggCount)]})]})]})]})},S=(n(44),function(){return Object(y.jsx)("div",{className:"Loader",children:Object(y.jsx)("div",{className:"Loader__content"})})}),C=function(e){var t=e.paginationPage,n=e.handlePageChange;return Object(y.jsx)("div",{className:"container-feedline__buttons",children:P.map((function(e){return Object(y.jsx)("button",{type:"button",className:e!==t?"pagination-button":"pagination-button pagination-button--active",onClick:function(){return n(e)},children:e})}))})},F=function(){return Object(y.jsxs)("div",{className:"container-feedline__error",children:[Object(y.jsx)("span",{className:"container-feedline__error-text",children:"Server conncetion error. Try again later or reload page"}),Object(y.jsx)("button",{type:"button",className:"error-button",onClick:function(){window.location.reload()},children:"Reload page"})]})},P=(n(45),[1,2,3]),T=function(){var e=a.a.useState([]),t=Object(N.a)(e,2),n=t[0],r=t[1],s=a.a.useState(!1),i=Object(N.a)(s,2),o=i[0],j=i[1],d=a.a.useState(!1),u=Object(N.a)(d,2),l=u[0],b=u[1],h=a.a.useState(1),O=Object(N.a)(h,2),f=O[0],x=O[1],p=function(){var e=Object(_.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k("/trending/feed");case 2:t=e.sent;try{r(t),j(!0)}catch(n){j(!0),b(!0),console.warn(n)}case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(e){e!==f&&x(e)},w=Object(c.useMemo)((function(){var e=10*f-10,t=10*f-1;return Object(m.a)(n).slice(e,t)}),[f,n]);return Object(c.useEffect)((function(){p()}),[]),Object(y.jsxs)("div",{className:"container-feedline",children:[Object(y.jsx)("span",{children:"FeedLinePage"}),!o&&Object(y.jsx)(S,{}),w.length>0&&Object(y.jsx)("div",{className:"container-feedline__buttons",children:Object(y.jsx)(C,{paginationPage:f,handlePageChange:v})}),l&&Object(y.jsx)(F,{}),w.map((function(e){return Object(y.jsx)("div",{className:"feed-container",children:Object(y.jsx)(M,{feed:e})},e.id)})),console.log(n),w.length>0&&Object(y.jsx)("div",{className:"container-feedline__buttons",children:Object(y.jsx)(C,{paginationPage:f,handlePageChange:v})})]})},E=Object(p.g)((function(e){var t=e.match.params.userName,n=Object(o.c)(h),a=Object(c.useState)(null),r=Object(N.a)(a,2),s=r[0],i=r[1],j=Object(c.useState)(!1),d=Object(N.a)(j,2),u=d[0],l=d[1],b=Object(c.useState)(!1),O=Object(N.a)(b,2),f=O[0],x=O[1],p=window.outerWidth;return Object(c.useEffect)((function(){var e=function(){var e=Object(_.a)(g.a.mark((function e(){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k("/user/info/".concat(t));case 2:n=e.sent;try{l(!0),i(n),x(!1)}catch(c){l(!0),x(!0),console.warn(c)}case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[t]),console.log("userInfo from server",s),Object(y.jsxs)(y.Fragment,{children:[!u&&Object(y.jsx)(S,{}),f&&Object(y.jsx)(F,{}),null!==n&&u&&!f&&Object(y.jsx)("div",{className:"user-container__user-info",children:Object(y.jsxs)("div",{className:"user-card",children:[Object(y.jsx)("div",{className:"user-card__avatar",children:Object(y.jsx)("img",{height:p>640?"220":"60",width:p>640?"220":"60",src:null===n||void 0===n?void 0:n.avatar,alt:"user_avatar"})}),Object(y.jsxs)("div",{className:"user-card__info",children:[Object(y.jsx)("h1",{children:n.nickName}),Object(y.jsx)("h2",{children:n.name}),Object(y.jsxs)("h3",{children:["Total videos - ",n.video]}),Object(y.jsxs)("h3",{children:["Fans - ",w(n.fans)]}),Object(y.jsxs)("h3",{children:["Likes - ",w(n.heart)]}),Object(y.jsxs)("h3",{children:["Following - ",n.following]})]})]})})]})})),L=function(){var e=a.a.useState([]),t=Object(N.a)(e,2),n=t[0],r=t[1],s=a.a.useState(!1),i=Object(N.a)(s,2),o=i[0],j=i[1],d=a.a.useState(!1),u=Object(N.a)(d,2),l=u[0],b=u[1],h=function(){var e=Object(_.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k("/trending/feed");case 2:t=e.sent;try{r(t),j(!0)}catch(n){j(!0),b(!0),console.warn(n)}case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){h()}),[]),Object(y.jsxs)(y.Fragment,{children:[!o&&Object(y.jsx)(S,{}),l&&Object(y.jsx)(F,{}),o&&!l&&Object(y.jsx)("div",{className:"user-container__user-feed",children:n.map((function(e){return Object(y.jsx)("div",{children:Object(y.jsx)("video",{preload:"true",loop:!0,width:"207",height:"370",controls:!0,muted:!0,playsInline:!0,children:Object(y.jsx)("source",{src:e.videoUrl})})})}))}),o&&!l&&0===n.length&&Object(y.jsx)("h2",{children:"No data at the moment. Please reload page"})]})},I=(n(46),function(){return Object(y.jsxs)("div",{className:"user-container",children:[Object(y.jsx)(i.b,{to:"/feed",children:Object(y.jsx)("span",{className:"user-container__back-button",children:"back to feed"})}),Object(y.jsx)(E,{}),Object(y.jsx)(L,{})]})}),A=(n(47),Object(p.g)((function(){return Object(y.jsx)("div",{className:"App",children:Object(y.jsxs)(p.d,{children:[Object(y.jsx)(p.b,{path:"/feed/:pageNumber?",exact:!0,component:T}),Object(y.jsx)(p.b,{path:"/user/:userId?",exact:!0,component:I}),Object(y.jsx)(p.a,{to:"/feed"})]})})}))),U=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,49)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),r(e),s(e)}))};s.a.render(Object(y.jsx)(a.a.StrictMode,{children:Object(y.jsx)(o.a,{store:x,children:Object(y.jsx)(i.a,{children:Object(y.jsx)(A,{})})})}),document.getElementById("root")),U()}},[[48,1,2]]]);
//# sourceMappingURL=main.519fb9a4.chunk.js.map